<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>StoreMeter | @ViewBag.Title</title>
    <link rel="icon" href="@Url.Content("~/Images/StoreMeter.png")" />

    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">

    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @Scripts.Render("~/adminlte/js")

    <link rel="stylesheet" href="~/adminlte/plugins/datatables-bs4/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" href="~/adminlte/plugins/datatables-responsive/css/responsive.bootstrap4.min.css">
    <link rel="stylesheet" href="~/adminlte/plugins/datatables-buttons/css/buttons.bootstrap4.min.css">
    <link href="~/Content/jquery-ui-1.12.1/jquery-ui.min.css" rel="stylesheet" />
    <script src="~/Content/jquery-ui-1.12.1/jquery-ui.min.js"></script>

    <style>
        body {
            background-color: #f2f5fc;
        }

        .card {
            border-radius: 20px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }

        .sidebar {
            min-height: 100vh;
            background-color: #202a44;
            color: white;
            font-size:18px;
        }

            .sidebar a {
                color: white;
                text-decoration: none;
                display: block;
                padding: 10px 20px;
            }

                .sidebar a:hover {
                    background-color: #32406c;
                }

        .dashboard-section {
            padding: 30px;
        }

        .widget {
            padding: 15px;
        }

        .chat-box {
            background-color: #fff;
            height: 150px;
            overflow-y: auto;
            padding: 10px;
        }
    </style>

</head>
<body class="sidebar-mini layout-fixed">
    <script src="~/Scripts/overlay.js"></script>
    <div class="wrapper">
        <nav class="main-header navbar navbar-expand navbar-light">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
                </li>
                <li class="nav-item d-none d-sm-inline-block"> <a href="#" class = "nav-link" style="color:#007bFF">Welcome, @Session["UserName"]</a></li>

            </ul>

            <!-- Right navbar links -->
            <ul class="navbar-nav ml-auto">
                <li class="dropdown user user-menu">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                        <span class="hidden-xs">@(Session["ActiveDateString"] ?? "Day is Not Open") | @Session["UserInfo"]</span>
                    </a>
                    <ul class="dropdown-menu">
                        <li class="list-group-item">
                            <div class="">
                                <a href="@Url.Action("Profile", "User")" class="btn">Profile</a>
                            </div>
                        </li>
                        <li class="list-group-item">
                            <div class="">
                                <a href="@Url.Action("ChangePassword", "User")" class="btn">Change Password</a>
                            </div>
                        </li>
                        <li class="list-group-item">
                            <div class="">
                                <a href='@Url.Action("Logoff", "User")' class="btn">Sign out</a>
                            </div>
                        </li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-widget="fullscreen" href="#" role="button">
                        <i class="fas fa-expand-arrows-alt"></i>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-widget="control-sidebar" data-slide="true" href="#" role="button">
                        <i class="fas fa-th-large"></i>
                    </a>
                </li>
            </ul>
        </nav>

        <aside class="main-sidebar sidebar-dark-primary elevation-2" style="border-right:1px solid gainsboro">
            <div class="sidebar">
                <div class="user-panel mt-3 pb-3 mb-3 d-flex" style="font-size:30px;font-weight:bold">
                    <div class="pull-left image">
                        <img src="~/Images/StoreMeter.png" class="img-circle" alt="User Image">
                    </div>
                    <div class="pull-left info" >
                        Store Meter
                    </div>
                </div>

                <nav class="mt-2">
                    <div class="sidebar">

                        @if (Session["UserRole"]?.ToString() == "Admin")
                        {
                            <a href="@Url.Action("Dashboard", "Admin")">
                                <i class="fas fa-home"></i> Dashboard
                            </a>
                            <a href="@Url.Action("Users", "Admin")">
                                <i class="fas fa-users"></i> Manage Users
                            </a>
                            <a href="@Url.Action("Stores", "Admin")">
                                <i class="fas fa-store"></i> Manage Stores
                            </a>
                            <a href="@Url.Action("Ratings", "Admin")">
                                <i class="fas fa-star"></i> View Ratings
                            </a>
                        }
                        else if (Session["UserRole"]?.ToString() == "User")
                        {
                            <a href="@Url.Action("Stores", "User")">
                                <i class="fas fa-home"></i> Dashboard
                            </a>
                        }
                        else if (Session["UserRole"]?.ToString() == "StoreOwner")
                        {
                            <a href="@Url.Action("Dashboard", "Store")">
                                <i class="fas fa-home"></i> Dashboard
                            </a>
                        }

                        <a href="@Url.Action("Profile", "User")">
                            <i class="fas fa-user"></i> Profile
                        </a>

                        <a href="@Url.Action("ChangePassword", "User")">
                            <i class="fas fa-key"></i> Change Password
                        </a>

                        <a href="@Url.Action("Logoff", "User")">
                            <i class="fas fa-sign-out-alt"></i> Sign Out
                        </a>

                    </div>
                </nav>
            </div>
        </aside>
        <div class="content-wrapper">
            <div class="content-header mb-2 p-1 bg-white">
                <div class="container-fluid">
                    <div class="row mb-1">
                        <div class="col-sm-6">
                            <span class="m-0" style="font-size:x-large">@ViewBag.Title</span>
                        </div><!-- /.col -->
                       
                    </div>
                </div>
            </div>
            <section class="content">
                @RenderSection("parameter", required: false)
                @RenderBody()
            </section>

        </div>
        <footer class="main-footer" style="font-size:small">
            <strong>Copyright &copy; @DateTime.Now.Year <a href="#">StoreMeter by Aishwarya Dhangar</a>.</strong> All rights reserved.
        </footer>
        <div id="settingsidebar">

        </div>
        <div class="control-sidebar-bg"></div>
    </div>

    <script>

        $(function () {
           // $('ul').Treeview();

            $(".mlink").click(function () {
                window.open("http://core.softonline.co.in/softmarketing", '_blank');
            });

            $("#indexTbl").DataTable({
                /*"responsive": true,*/
                "lengthChange": false,
                "autoWidth": false,
                "buttons": ["excel", "pdf", "print", "colvis"]
            }).buttons().container().appendTo('#indexTbl_wrapper .col-md-6:eq(0)');

            $('#dindexTbl').DataTable({
                "paging": true,
                "lengthChange": false,
                "searching": false,
                "ordering": true,
                "info": true,
                "autoWidth": false,
                "responsive": true,
            });
        })
    </script>

    @RenderSection("scripts", required: false)
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")

    <script src="~/adminlte/plugins/datatables/jquery.dataTables.min.js"></script>
    <script src="~/adminlte/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>
    <script src="~/adminlte/plugins/datatables-responsive/js/dataTables.responsive.min.js"></script>
    <script src="~/adminlte/plugins/datatables-responsive/js/responsive.bootstrap4.min.js"></script>
    <script src="~/adminlte/plugins/datatables-buttons/js/dataTables.buttons.min.js"></script>
    <script src="~/adminlte/plugins/datatables-buttons/js/buttons.bootstrap4.min.js"></script>
    <script src="~/adminlte/plugins/jszip/jszip.min.js"></script>
    <script src="~/adminlte/plugins/pdfmake/pdfmake.min.js"></script>
    <script src="~/adminlte/plugins/pdfmake/vfs_fonts.js"></script>
    <script src="~/adminlte/plugins/datatables-buttons/js/buttons.html5.min.js"></script>
    <script src="~/adminlte/plugins/datatables-buttons/js/buttons.print.min.js"></script>
    <script src="~/adminlte/plugins/datatables-buttons/js/buttons.colVis.min.js"></script>

    @Html.Hidden("no", ViewContext.RouteData.Values["id"])
    @Html.Hidden("currentAction", this.ViewContext.RouteData.Values["action"])
    @Html.Hidden("currentController", this.ViewContext.RouteData.Values["controller"])

    <div class="clsoverlay" id="ImageDiv">
        <div style="text-align:center;padding-top:100px">
            <img src="~/Images/wait.gif" />
            <br />
            <label id="otext" style="font-size:30px">Please Wait...</label>
        </div>
    </div>
</body>
</html>
